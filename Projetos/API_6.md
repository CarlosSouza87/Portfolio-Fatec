<h1 align="center"> API - 6¬∫ Semestre</h1>
<h2 align="center">:office: EMPRESA - VISIONA </h2>



# :clipboard: Desafio/Projeto

Foi proposto uma solu√ß√£o abrangente que envolve a coleta e o tratamento dos dados do programa Federal ProAgro, a reestrutura√ß√£o eficiente dos dados e o desenvolvimento de um Sistema de Informa√ß√£o Geogr√°fica (SIG) personalizado, fornecendo informa√ß√µes de forma mais simples e organizada para o usu√°rio. Essa abordagem buscou facilitar a compreens√£o e an√°lise dos dados, contribuindo para melhorias nos processos internos da empresa.
Al√©m disso,o projeto possui um banco de dados robusto, onde todas as informa√ß√µes das glebas s√£o armazenadas de maneira organizada e acess√≠vel.Essa abordagem assegura que dados cr√≠ticos estejam dispon√≠veis para consulta e an√°lise, promovendo uma gest√£o eficaz das √°reas agr√≠colas.Para melhorar a usabilidade,foi implementada uma funcionalidade intuitiva de salvamento de registros, permitindo que os usu√°rios capturem instant√¢neos espec√≠ficos de suas consultas ou an√°lises.
Incluimos a capacidade de salvar imagens das s√©ries temporais, possibilitando a documenta√ß√£o visual das tend√™ncias observadas, visando a praticidade, com a qual inclui uma op√ß√£o de download que permite aos usu√°rios obterem facilmente informa√ß√µes detalhadas sobre as glebas.

## :desktop_computer: Tecnologias Utilizadas
<ul>
<img src="https://raw.githubusercontent.com/devicons/devicon/1119b9f84c0290e0f0b38982099a2bd027a48bf1/icons/github/github-original-wordmark.svg" width="100"    height="100" />	
<img src="https://raw.githubusercontent.com/devicons/devicon/1119b9f84c0290e0f0b38982099a2bd027a48bf1/icons/python/python-plain-wordmark.svg" width="100" height="100" />
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/javascript/javascript-plain.svg" width="100" height="100" />
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/css3/css3-original.svg" width="100" height="100" />
<img src="https://github.com/TechVisionn/tech-parent/blob/main/docs/Images/React-icon.svg.png" width="100" height="100" />
 <img src="https://raw.githubusercontent.com/devicons/devicon/1119b9f84c0290e0f0b38982099a2bd027a48bf1/icons/mysql/mysql-original-wordmark.svg" width="100"    height="100" />	 
 <img src="https://github.com/TechVisionn/tech-parent/blob/main/docs/Images/Mongodb-PNG-Image-HD.png" width="100"    height="100"/>

</ul>
 <br></br>
 <a href="https://github.com">Github</a>: O Github √© uma plataforma de gerenciamento de c√≥digo fonte que permite hospedar, gerenciar e colaborar em projetos de desenvolvimento de software usando o sistema de controle de vers√£o Git e esta plataforma foi utilizada como reposit√≥rio de projeto. 
<br></br>
<a href="https://www.mysql.com/">MySQL</a>: √â um sistema de gerenciamento de banco de dados (SGBD) relacional, ou seja, que utiliza a linguagem SQL como interface. Lan√ßado sobre a licen√ßa GPL, possui como desenvolvedor a Oracle Corporation e foi utilizado como Sistema Gerenciador de Banco de Dados (SGBD) do projeto em nuvem utilizando a plataforma azure.
<br></br>
<a href="https://www.mongodb.com/pt-br">MongoDB</a>: √â um banco de dados NoSQL que armazena dados em documentos flex√≠veis usando um formato JSON,oferece escalabilidade e flexibilidade para lidar com grandes volumes de dados e modelos de dados din√¢micos e foi utilizado para a parte LGPD do projeto em quesito de cadastro do usuario.
<br></br>
<a href="https://www.python.org">Python</a>: Python √© uma linguagem de programa√ß√£o vers√°til e amplamente utilizada, conhecida por sua simplicidade, legibilidade e capacidade de criar aplicativos eficientes. √â uma escolha popular para o desenvolvimento de aplicativos web, cient√≠ficos, de automa√ß√£o,e muito mais, devido √† sua vasta gama de bibliotecas e comunidade ativa de desenvolvedores e foi utilzado para a montagem do backend da aplica√ß√£o.
<br></br>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">Javascript</a>: √â uma linguagem de programa√ß√£o amplamente usada para desenvolver aplicativos web interativos e din√¢micos, utlizada para navegador do usu√°rio, permitindo que os desenvolvedores criem experi√™ncias interativas e responsivas nas p√°ginas da web e aplicada para a montagem do front end da aplica√ß√£o.
<br></br>
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a>: √â uma linguagem de estilo usada para controlar a apresenta√ß√£o e a formata√ß√£o de p√°ginas da web e permite que voc√™ defina cores, fontes, margens, espa√ßamentos e outros estilos visuais para elementos HTML. Com o CSS, √© possivel separar a estrutura (HTML) do estilo (CSS) em um site, o que torna mais f√°cil e flex√≠vel a altera√ß√£o da apar√™ncia de um site sem alterar a estrutura. Neste projeto foi utilizado para a aplica√ß√£o do design e estrutura√ß√£o do componentes do front end do projeto.
<br></br>

<a href="https://reactjs.org">React</a>: Aplicado como um framework de c√≥digo aberto e uma biblioteca JavaScript, React √© utilizado para construir interfaces de usu√°rio interativas e din√¢micas em aplica√ß√µes web. √â frequentemente empregado em projetos para criar componentes reutiliz√°veis, gerenciar o estado do aplicativo e fornecer uma experi√™ncia de usu√°rio rica. React √© conhecido por sua efici√™ncia e poderosa capacidade de renderiza√ß√£o, o que o torna uma escolha popular entre desenvolvedores para o desenvolvimento de aplica√ß√µes web modernas e este framework foi aplicado no front end do projeto.


<h3 align="center"> Hard Skills </h3>
  <table align="center">
    <tr>
      <th width="300px">Tecnologia/Metodologia</th>
      <th width="300px">Classifica√ß√£o</th>
    </tr>
    <tr>
      <td>Metodologia Scrum</td>
      <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>
    </tr>
    <tr>
      <td>MySQL</td>
      <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>
    </tr>	
   <tr>
      <td>MongoDB </td>
      <td>‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ</td>
    </tr>	
    <tr>
      <td>GITHUB</td>
      <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>
    </tr>
 
  </table>
 <h3 align="center">Soft Skills</h3>
  <table align="center">
   <tr>
      <th width="270px">Habilidade</th>
      <th width="290px">Descri√ß√£o</th>
    </tr>
  <td>Resolu√ß√£o de Conflitos</td>
  <td>Utilizei minha habilidade de resolu√ß√£o de conflitos para lidar com desacordos e tens√µes de forma equilibrada, construtiva e eficaz, buscando compreender as causas do conflito e encontrar solu√ß√µes que atendessem √†s necessidades de todas as partes envolvidas.</td>
</tr>
<tr>
  <td>Negocia√ß√£o</td>
  <td>Aprimorei minhas habilidades de negocia√ß√£o para alinhar  com a equipe de desenvolvedores e P.O. para atender as expectativas do cliente alinhada com a capacidade da equipe.</td>
</tr>
<tr>
  <td>Lideran√ßa</td>
  <td>Durante o projeto, percebi que os desenvolvedores estavam enfrentando gargalos nas tarefas. Atuei como facilitador, organizando reuni√µes objetivas com as partes envolvidas e eliminando bloqueios, permitindo que a equipe mantivesse o ritmo sem desgastes.</td>
</tr>
  </table>

 ## :dart: Contribui√ß√µes Pessoais: 

Desenvolvi  em parceria com outro componente do grupo um modelo l√≥gico detalhado,analisando e desenhando cuidadosamente as entidades e seus atributos, bem como os relacionamentos necessarios entre elas.Essa estrutura√ß√£o foi muito importante na implementa√ß√£o de um banco de dados capaz de suportar com qualidade o acesso aos metadados,a defini√ß√£o precisa dos relacionamentos entre as entidades foi crucial para garantir a consist√™ncia das informa√ß√µes armazenadas.
Al√©m da arquitetura do banco de dados,bem como seu gerenciamento,foram implementadas consultas SQL estrat√©gicass para recuperar os metadados de maneira r√°pida e precisa, contribuindo de maneira decisiva  na constru√ß√£o do dashboard de monitoramento do projeto 
de maneira rapida e eficiente.
Trabalhei de perto com a equipe, tamb√©m executando meu papel de Scrum master, resolvendo atritos entre os membros do grupo, com reuni√µes de pacifica√ß√µes para resolver a diversas divergencias pessoas dentro do projeto, buscando sempre a integra√ß√£o perfeita entre os membros do grupo.
Todas essas a√ß√µes, desde a concep√ß√£o do Modelo L√≥gico at√© a implementa√ß√£o das consultas SQL,al√©m da administra√ß√£o de pessoas, foi fundamental na constru√ß√£o de uma estrutura coesa e eficaz para  desenvolvimento e o sucesso desse  projeto.

### Dicionario de Dados do Projeto
Clique abaixo para visualizar o PDF completo com o dicionario de dados do projeto:
 
[üîó Visualizar Dicionario de dados(PDF)](https://github.com/CarlosSouza87/Portfolio-Fatec/blob/main/img/Dicionario_de%20dados.pdf)

## Informa√ß√µes sobre  os atributos:

<pre>
	REF_BACEN:Refer√™ncia relacionada ao Banco Central (Identificador √∫nico para cada registro)
	NU_ORDEM: N√∫mero de ordem
	NU_IDENTIFICADOR: N√∫mero identificador
	NU_INDICE_GLEBA: N√∫mero de √≠ndice da gleba
	NU_INDICE_PONTO: N√∫mero de √≠ndice do ponto
	CGL_VL_ALTITUDE: Valor da altitude
	VL_VERTICES: Dados geom√©tricos representando os v√©rtices (pontos) da gleba
</pre>

A coluna VL_VERTICES √© do tipo geometry e √© utilizada para armazenar informa√ß√µes
sobre a forma geogr√°fica da gleba do terreno. S√£o coordenadas espaciais que definem os
v√©rtices da gleba, permitindo representar a forma da √°rea de terra no plano geogr√°fico.

<p>Modelo de banco de dados utilizado um sistema de armazenamento de coordenadas de √°reas de terrenos.</p>

### Script para Coordenadas
<pre>
	import pandas as pd
	from shapely.geometry import Point
	from sqlalchemy import create_engine, Column, Integer, Text, Float, Geometry
	from sqlalchemy.ext.declarative import declarative_base
	from sqlalchemy.orm import sessionmaker
</pre>
<img src="https://github.com/CarlosSouza87/Portfolio-Fatec/blob/main/img/coordenadas.jpg" width="1000"  height="1200" />

# Configura√ß√µes do banco de dados
<pre>
  	db_user = 'techninjas'
	db_password = '**********'
	db_host = 'techninjas.microsoft'
	db_port = '3306'
	db_name = 'techvision'
</pre>

# Criando a conex√£o com o banco de dados
<pre>
	engine = create_engine(f"mysql+mysqlconnector://{db_user}:{db_password}@{db_host}:{db_port}/{db_name}")

</pre>

# Criando a tabela no banco de dados (caso n√£o exista)
<pre>
	Base.metadata.create_all(engine)
</pre>

# Lendo o arquivo CSV
<pre>
	csv_path = '/glebas.csv'
	df = pd.read_csv(csv_path)
</pre>

## Criando objetos geom√©tricos e inserindo no banco de dados
<pre>
Session = sessionmaker(bind=engine)
session = Session()

for _, row in df.iterrows():
    latitude = float(row['VL_LATITUDE'])
    longitude = float(row['VL_LONGITUDE'])
    point = Point(longitude, latitude)

    gleba = Gleba(
        REF_BACEN=row['REF_BACEN'],
        NU_ORDEM=row['NU_ORDEM'],
        NU_IDENTIFICADOR=row['NU_IDENTIFICADOR'],
        NU_INDICE_GLEBA=row['NU_INDICE_GLEBA'],
        NU_INDICE_PONTO=row['NU_INDICE_PONTO'],
        VL_LATITUDE=row['VL_LATITUDE'],
        VL_LONGITUDE=row['VL_LONGITUDE'],
        CGL_VL_ALTITUDE=row['CGL_VL_ALTITUDE'],
        VL_VERTICES=point
    )

    session.add(gleba)

session.commit()
session.close()
</pre>

 ## Utiliza√ß√£o de Bibliotecas:
  Pandas: Usada para manipula√ß√£o de dados, especialmente para ler e escrever dados em formato de DataFrame.
  shapely.geometry.Point: Usada para representar objetos geom√©tricos do tipo ponto.
  sqlalchemy: Uma biblioteca SQL para Python, usada para interagir com o banco de dados.
  declarative_base: Usada para criar classes de mapeamento ORM.
  sessionmaker: Usada para criar inst√¢ncias de sess√£o para intera√ß√£o com o banco de dados.

 ## Defini√ß√£o da Classe de Tabela:
  declarative_base: Fun√ß√£o que retorna uma classe base para declarar modelos ORM.
  Gleba: Classe que herda de Base e representa a tabela glebas_sp no banco de dados.

 ## Cria√ß√£o da Conex√£o com o Banco de Dados:
  Cria√ß√£o de uma inst√¢ncia de Engine do SQLAlchemy para interagir com o banco de dados MySQL.

 ## Cria√ß√£o da Tabela no Banco de Dados:
   Cria√ß√£o da tabela glebas_sp no banco de dados se ela n√£o existir.

 ## - Leitura do Arquivo CSV:
   Leitura do arquivo CSV usando o pandas e armazenamento dos dados em um DataFrame (df).

 ## Cria√ß√£o de Objetos Geom√©tricos e Inser√ß√£o no Banco de Dados:
  Um loop atrav√©s do DataFrame, onde para cada linha, s√£o criados objetos geom√©tricos do tipo Point a partir 
  das colunas VL_LATITUDE e VL_LONGITUDE.
  Um objeto Gleba √© criado para cada linha do DataFrame, e a coluna VL_VERTICES √© preenchida com o objeto geom√©trico
  correspondente.Os objetos s√£o adicionados √† sess√£o e, ao final do loop, as altera√ß√µes s√£o confirmadas no banco de dados. 

#### Querys para retorno de informa√ß√µes 
<pre>
	SELECT
        Glebas.REF_BACEN,
        Glebas.VL_VERTICES,
        S5.DT_EMISSAO AS DATA_EMISSAO_REFBACEN,
        CASE
            WHEN S5.CD_ESTADO = 'SP' THEN 'S√£o Paulo'
            ELSE S5.CD_ESTADO
        END AS ESTADO,
        GARAN_EMPREEND.DESCRICAO AS TIPO_SEGURO,
        S5.DT_FIM_PLANTIO AS DATA_PLANTIO,
        GRAO_IRRIG.DESCRICAO AS TIPO_IRRIGACAO,
        GRAO.DESCRICAO AS TIPO_GRAO,
        S5.VL_ALIQ_PROAGRO AS VALOR_ALIQUOTA,
        S5.VL_JUROS AS JUROS_INVESTIMENTO,
        S5.VL_RECEITA_BRUTA_ESPERADA AS RECEITA_BRUTA_ESTIMADA,
        S5.DT_FIM_COLHEITA AS DATA_FIM_COLHEITA
    FROM (
        SELECT
            GLP.REF_BACEN,
            GLP.VL_VERTICES
        FROM techdata.glebas_sp GLP
        ORDER BY GLP.NU_INDICE_PONTO
    ) AS Glebas
    JOIN techdata.saida5 S5 ON S5.REF_BACEN = Glebas.REF_BACEN
    JOIN techvision.grao_semente GRAO ON GRAO.CODIGO = S5.CD_TIPO_GRAO_SEMENTE
    LEFT JOIN techvision.tipo_irrigacao GRAO_IRRIG ON GRAO_IRRIG.CODIGO = S5.CD_TIPO_IRRIGACAO
    LEFT JOIN (
        SELECT CODIGO, DESCRICAO
        FROM techvision.tipo_garantia_empreendimento
    ) AS GARAN_EMPREEND ON GARAN_EMPREEND.CODIGO = S5.CD_TIPO_SEGURO
    GROUP BY
        Glebas.REF_BACEN, S5.DT_EMISSAO,
        S5.CD_ESTADO, GARAN_EMPREEND.DESCRICAO,
        GRAO_IRRIG.DESCRICAO, GRAO.DESCRICAO,
        S5.DT_FIM_PLANTIO, S5.CD_TIPO_IRRIGACAO,
        S5.VL_ALIQ_PROAGRO, S5.CD_TIPO_CULTIVO,
        S5.VL_JUROS, S5.VL_RECEITA_BRUTA_ESPERADA,
        S5.DT_FIM_COLHEITA, S5.VL_PERC_CUSTO_EFET_TOTAL

        S5.VL_RECEITA_BRUTA_ESPERADA AS RECEITA_BRUTA_ESTIMADA,
        S5.DT_FIM_COLHEITA AS DATA_FIM_COLHEITA
    FROM (
        SELECT
            GLP.REF_BACEN,
            GLP.VL_VERTICES
        FROM techdata.glebas_sp GLP
        ORDER BY GLP.NU_INDICE_PONTO
    ) AS Glebas
    JOIN techdata.saida5 S5 ON S5.REF_BACEN = Glebas.REF_BACEN
    JOIN techvision.grao_semente GRAO ON GRAO.CODIGO = S5.CD_TIPO_GRAO_SEMENTE
    LEFT JOIN techvision.tipo_irrigacao GRAO_IRRIG ON GRAO_IRRIG.CODIGO = S5.CD_TIPO_IRRIGACAO
    LEFT JOIN (
        SELECT CODIGO, DESCRICAO
        FROM techvision.tipo_garantia_empreendimento
    ) AS GARAN_EMPREEND ON GARAN_EMPREEND.CODIGO = S5.CD_TIPO_SEGURO
    GROUP BY
        Glebas.REF_BACEN, S5.DT_EMISSAO,
        S5.CD_ESTADO, GARAN_EMPREEND.DESCRICAO,
        GRAO_IRRIG.DESCRICAO, GRAO.DESCRICAO,
        S5.DT_FIM_PLANTIO, S5.CD_TIPO_IRRIGACAO,
        S5.VL_ALIQ_PROAGRO, S5.CD_TIPO_CULTIVO,
        S5.VL_JUROS, S5.VL_RECEITA_BRUTA_ESPERADA,
        S5.DT_FIM_COLHEITA, S5.VL_PERC_CUSTO_EFET_TOTAL

</pre>
<img src="https://github.com/CarlosSouza87/Portfolio-Fatec/blob/main/img/Glebas.jpg" width="1000"  height="1200" />

 #### Sele√ß√£o de Dados da Tabela Glebas:
  <pre>  
	      A subconsulta interna (SELECT GLP.REF_BACEN, GLP.VL_VERTICES FROM techdata.glebas_sp GLP 
              ORDER BY GLP.NU_INDICE_PONTO) seleciona os campos REF_BACEN e VL_VERTICES da tabela glebas_sp,
              ordenados pelo NU_INDICE_PONTO.
    
              Essa subconsulta √© renomeada como Glebas e serve como base para a jun√ß√£o posterior.
  </pre>
  
#### Jun√ß√£o com a Tabela saida5:
    A consulta principal junta a subconsulta Glebas com a tabela techdata.saida5 usando a condi√ß√£o 
    S5.REF_BACEN = Glebas.REF_BACEN.
    Al√©m disso, s√£o realizadas jun√ß√µes adicionais com as tabelas techvision.grao_semente, 
    techvision.tipo_irrigacao e techvision.tipo_garantia_empreendimento.

#### Sele√ß√£o de Campos e Manipula√ß√£o de Dados:
    A consulta seleciona v√°rios campos, incluindo REF_BACEN, VL_VERTICES, DT_EMISSAO, CD_ESTADO, e outros.
    A cl√°usula CASE √© usada para alterar o valor da coluna ESTADO dependendo do valor de CD_ESTADO,
    renomeando o estado "SP" para "S√£o Paulo".

#### Agrupamento e Fun√ß√µes de Agrega√ß√£o:
    Os resultados s√£o agrupados usando a cl√°usula GROUP BY com base em v√°rias colunas, incluindo 
    REF_BACEN, DT_EMISSAO, CD_ESTADO, e outros.
    Fun√ß√µes de agrega√ß√£o, como SUM ou AVG, n√£o est√£o presentes na consulta, mas poderiam ser adicionadas se necess√°rio.

#### Resultados da Consulta:
    A consulta retorna informa√ß√µes sobre glebas agr√≠colas, suas safras associadas, tipos de gr√£os,
    informa√ß√µes sobre irriga√ß√£o, seguro agr√≠cola e outros detalhes relevantes.
    Os resultados s√£o organizados de acordo com as colunas especificadas na cl√°usula GROUP BY.

### Conhecimentos aprimorados/adquiridos

 *  Ao longo do projeto aprendi novas fun√ß√µes e comandos sobre bancos de dados, melhorei e aprofundei minha compreens√£o dos conceitos 
    fundamentais e das pr√°ticas essenciais associadas a essa tecnologia.
 *  A capacidade de criar consultas SQL eficientes para recuperar, inserir, atualizar e excluir dados proporcionou-me uma base 
    s√≥lida para a manipula√ß√£o eficaz de informa√ß√µes em um ambiente de banco de dados relacional.
 *  Com isso,posso aplicar no meu trabalho, os conhecimentos adquiridos, facilitando a migra√ß√£o,manipula√ß√£o e extra√ß√£o das
    informa√ß√µes necess√°rias nos projeto que administro e executo no meu dia a dia.
 *  Aprendi as pr√°ticas recomendadas para realizar backups regulares e garantir a recupera√ß√£o eficiente de dados em situa√ß√µes de falha.
 *  A seguran√ßa e a integridade dos dados s√£o prioridades, e a capacidade de restaurar dados √© essencial para a continuidade dos 
    neg√≥cios.

  <h2 align="center"> GITHUB DO PROJETO</h2>
  <h3 align="center">https://github.com/TechVisionn/tech-parent</h3>
